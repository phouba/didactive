<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Traitement des Données</title>
    <meta charset="utf-8" />
    <meta name="author" content="Pascal Houba" />
    <link href="Data72_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <script src="Data72_files/htmlwidgets-1.5.2/htmlwidgets.js"></script>
    <script src="Data72_files/d3-3.3.8/d3.min.js"></script>
    <script src="Data72_files/dagre-0.4.0/dagre-d3.min.js"></script>
    <link href="Data72_files/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
    <script src="Data72_files/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
    <link href="Data72_files/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
    <script src="Data72_files/chromatography-0.1/chromatography.js"></script>
    <script src="Data72_files/DiagrammeR-binding-1.0.6.9000/DiagrammeR.js"></script>
    <script src="Data72_files/pymjs-1.3.2/pym.v1.min.js"></script>
    <script src="Data72_files/kePrint-0.0.1/kePrint.js"></script>
    <link href="Data72_files/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="Data72.css" type="text/css" />
    <link rel="stylesheet" href="Data72-fonts.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: left, middle, title-slide

# Traitement des Données
## 2020-2021
### Pascal Houba

---

class:middle

### Introduction : L’intelligence artificielle et les données
### **Chapitre 1 : Les probabilités simples**
### **Fiche 1 : Les tableurs**
### **Chapitre 2 : Les probabilités conditionnelles**
### **Fiche 2 : Performances d'un test de dépistage**

---

## **Introduction : L’intelligence artificielle et les données**
### Intro.1. Qui a peur de l'IA ?

&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/oZUWa1rf1fY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

Il y a toujours un malentendu sur le terme d'intelligence artificielle.

Beaucoup de gens imaginent que c’est une espèce de fantasmagorie : l’idée qu’une machine va tout d'un coup être animée d’intelligence mais ce n'est pas ça !

L’intelligence artificielle c’est une discipline scientifique.

---

## **Introduction : L’intelligence artificielle et les données**
### Intro.2. Qu'est-ce que l'IA ?

&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/s76oTtyw8Q8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

L'informatique a pour objet le traitement de l'**infor**mation de manière auto**matique**.

Elle s'appuie sur des **machines** capables de **traiter des données** grâce à des **algorithmes**.

Un **algorithme** est une série d'instructions à suive dans un certain ordre pour effectuer une tâche de manière __automatique__ (sans avoir besoin de comprendre ou de réfléchir).

Une fois cet algorithme traduit dans un langage compréhensible par l'ordinateur, on obtient un __programme informatique__.

---

## **Introduction : L’intelligence artificielle et les données**
### Intro.2. Qu'est-ce que l'IA ?

Pour simuler l'intelligence humaine, il faut pouvoir reproduire les différentes __fonctions cognitives__ à l'oeuvre dans le fonctionnement de la pensée (la perception, le langage, la motricité, la  mémoire, le raisonnement, l'abstraction, et la créativité).

Pour y arriver, il y a __deux approches complémentaires__ :
  - __L'approche symbolique__ essaie d'imiter comment l'humain raisonne logiquement en utilisant un ensemble de connaissances, de règles, de procédures.

  Cette approche a donné les __systèmes experts__ qui tentent de reproduire le raisonnement d'un spécialiste, comme un médecin ou un juriste, pour résoudre un problème.

- __L'approche numérique ou connexionniste__ tente d'imiter comment l'humain apprend par essais et erreurs à partir de ses expériences, pour lesquels il est beaucoup plus difficile d'expliquer comment on s'y prend (faire du vélo, reconnaître un chat).

  Cette approche est à l'oeuvre dans l'__apprentissage machine (machine learning)__ et les __réseaux de neurones (neural networks)__.

La spécificité de l'intelligence humaine est d'être une __intelligence générale__, alors que les intelligences artificielles sont techniques et spécifiques : elles ne peuvent effectuer que la tâche pour laquelle elles ont été programmées ou paramétrées.


---

## **Introduction : L’intelligence artificielle et les données**
### Intro.3. Quelques repères dans l'histoire de l'IA

***

__Référence :__ Russell, Stuart J., Peter Norvig, et Ernest Davis. __Artificial Intelligence: A Modern Approach__ (3rd ed.), Prentice Hall, 2010.

***

__I. Les fondations__

__1936__ - Alan Turing publie l'article où il décrit la __machine de Turing__.

__1943__ - Le premier article à la base de l'approche des __réseaux de neurones artificiels__ est publié, initiant ___l'approche connexionniste___.

__1948__ - Alan Turing décrit, sur la base du modèle des réseaux de neurones, une __machine inorganisée__ capable d'apprendre par elle-même.

__1950__ - Alan Turing publie l'article où il décrit le __test de Turing__, censé ne pouvoir être réussi que par une machine intelligente imitant un être humain.

__1951__ - Marvin Minsky et Dean Edmonds construisent une première machine à réseau neuronal.

__1956__ - La __conférence de Dartmouth__, a été le moment-clé où l'intelligence artificielle a été appelée comme telle, a défini ses objectifs, a concrétisé ses premières réussites et a réuni ses acteurs importants. Cette conférence est largement considérée comme le __moment fondateur de l'intelligence artificielle__ en tant que domaine de recherche autonome.

Un premier programme capable de démontrer automatiquement des théorèmes mathématiques y est présenté, marquant le début de ___l'approche symbolique___.

---

## **Introduction : L’intelligence artificielle et les données**
### Intro.3. Quelques repères dans l'histoire de l'IA

__II. Des hauts et des bas__

__1956−1974__ - Les années qui suivent la conférence de Dartmouth sont une ère de découverte : des ordinateurs résolvent des problèmes algébriques, démontrent des théorèmes et apprennent à parler anglais. Les chercheurs font preuve alors d'un optimisme intense : ils prédisent qu'une machine complètement intelligente sera construite dans les 20 ans à venir. Les agences gouvernementales investissent massivement dans ce nouveau domaine.

__1974-1980 : le premier hiver de l'IA__ - L'intelligence artificielle subit critiques et revers budgétaires, car les chercheurs en intelligence artificielle n'ont pas une vision claire des difficultés des problèmes auxquels ils sont confrontés. Leur immense optimisme a engendré une attente excessive et quand les résultats promis ne se matérialisent pas, les investissements consacrés à l'intelligence artificielle s'étiolent.

__1980-1987__ - Des programmes d'IA appelés « __systèmes experts__ » sont adoptés par les entreprises et la connaissance devient le sujet central de la recherche en IA. Un système expert est un programme qui répond à des questions ou résout des problèmes dans un domaine de connaissance donné, à l'aide de règles logiques dérivées de la connaissance des experts humains de ce domaine.

__1987−1993 : le second hiver de l'IA__ - Finalement, les premiers systèmes experts ont un coût de maintenance trop élevé, sont difficiles à mettre à jour, ne peuvent pas apprendre, peuvent faire des erreurs grotesques quand les paramètres sortent des valeurs habituelles, et s'empêtrent dans des problèmes. Les systèmes experts se sont révélés utiles, mais uniquement dans des contextes très spécifiques.
---

## **Introduction : L’intelligence artificielle et les données**
### Intro.3. Quelques repères dans l'histoire de l'IA

__III. Vers l'orthodoxie scientifique__

Les chercheurs en intelligence artificielle développent et utilisent des outils mathématiques sophistiqués comme jamais auparavant.

__Dès 1985,__ des algorithmes dits de __rétro-propagation (backpropagation)__, essentiels pour le développement du __machine learning__ dans les années 2000, sont mis au points.

__En 1988,__ le livre-charnière de Judea Pearl intègre les probabilités et la théorie de la décision avec les __réseaux bayésiens__.

__Le 11 mai 1997__, _Deep Blue_ est devenu le premier système informatique de jeu d'échecs à battre le champion du monde en titre, Garry Kasparov.

__Le 15 mars 2016__, le programme _AlphaGo_ développé par Google remporte un tournoi de go face au champion Lee Sedol, marquant une avancée significative des techniques d'apprentissage automatique.

__A partir de 2011__ - L'accès à de grandes quantités de données (__big data__) ainsi qu'à de grandes capacités de stockage et de puissance de calcul se généralise.

Parallèlement, de nouveaux algorithmes d'apprentissage de type connexioniste sont développés sous le nom de __machine learning (ML)__ et ensuite de __deep learning (DL)__.

---

## **Introduction : L’intelligence artificielle et les données**
### Intro.4. Du machine learning et des données

&lt;iframe width="500" height="240" src="https://www.youtube.com/embed/wPiMSsz_Dnw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

Le but de __l'apprentissage automatique (machine learning)__ est de développer des algorithmes qui peuvent apprendre à apprendre.

Il y a deux techniques d'apprentissage principales :

  - __L'apprentissage supervisé__ qui procède en deux phases :
  
  Dans la __phase d'entraînement__, les données sont étiquetées par des humains.

  Dans la __phase de prédiction__, l'algorithme effectue une prédiction sur la base de données qu'il n'a jamais vues.

  - __L'apprentissage par renforcement__ où l'algorithme apprend en étant plongé dans un environnement, et où il va ajuster ses paramètres en fonction de la réaction positive ou négative qui suit chacune de ses actions.

---

## **Introduction : L’intelligence artificielle et les données**
### Intro.4. Du machine learning et des données

__L'apprentissage profond (deep learning)__ est une méthode d'apprentissage machine qui s'appuie sur des __réseaux de neurones artificiels__.

Les neurones biologiques sont des cellules connectées les unes aux autres.

Quand un neurone reçoit des signaux d'autres neurones, il les combine et peut alors transmettre ou non le signal à d'autres.

Les neurones artificiels imitent le fonctionnement des neurones biologiques sur la base d'un modèle mathématique.

Cette méthode date des années 50 mais ce n'est que récemment que la puissance de calcul, l'augmentation des volumes de données et le perfectionnement des algorithmes ont permis d'atteindre une nouvelle étape, appelée apprentissage profond (deep learning), caractérisée par une répartition du réseau en plusieurs couches hiérarchisées, ce qui signifie que les entrées d'une couche sont fonction des sorties de la couche précédente.

__Big Data__

---
class:middle

### **Introduction : L’intelligence artificielle et les données**
### Chapitre 1 : Les probabilités simples
### Fiche 1 : Les tableurs
### **Chapitre 2 : Les probabilités conditionnelles**
### **Fiche 2 : Performances d'un test de dépistage**

---

## **Chapitre 1 : Les probabilités simples**
### 1.1. La notion de probabilité
La probabilité d'un événement caractérise la possibilité qu'il se produise.
--
`$$\textrm{Probabilité d'un événement} = \frac{\textrm{nombre d'éventualités de l'événement}}{\textrm{nombre total d'éventualités}}$$`
--
Attention : on suppose que toutes les éventualités sont équiprobables (ont la même probabilité d’arriver).
On appelle _Univers_ l’ensemble de toutes les éventualités et on le note `\(\Omega\)`￼.

Le _cardinal_ d’un ensemble est le nombre de ses éléments.

Si A est le nom d‘un l’événement (qui peut regrouper plusieurs éventualités), la probabilité que A se réalise est donnée par la formule suivante :
`$$P(A) = \frac{card(A)}{card(\Omega)}$$`

La probabilité d'un événement est un nombre compris entre 0 et 1 et peut s'écrire sous forme de pourcentage.

---

## **Fiche 1 : Les tableurs**
### f1.1. La signification statistique d'une expérience
&lt;iframe width="640" height="320" src="https://www.youtube.com/embed/m1v8xecyM6A" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

---

## **Fiche 1 : Les tableurs**
### f1.2. Généralités

Un **tableur** (ie. Microsoft Excel, Google Sheets, Apple Numbers, …) organise les données en cellules (**cells**) disposées en lignes (**rows**) et colonnes (**columns**) qui peuvent être réparties sur plusieurs feuilles (**sheets**).

Chaque cellule peut contenir une **valeur** de **type** numérique, devise (€, $, …), alphanumérique, date, etc.

Cette valeur peut résulter de l’évaluation d’une **formule** qui utilisent des **fonctions** (mathématiques ou autres).

Chaque cellule possède une **adresse** correspondant aux lettres de sa ligne suivie de son numéro de colonne.
Par exemple : `\(A6\)` ou `\(AQ18\)`. &lt;br&gt;Celles-ci peuvent être utilisées dans les formules.

Chaque indice (lettre de ligne ou numéro de colonne) de ces adresses peut être, soit **relatif**, soit **absolu** (indiquée par un signe $ avant l’indice), par rapport à l’adresse de la cellule où se fait l’évaluation de la formule.

Chaque cellule (ou ensemble de cellules) peut être **mise en forme** selon divers styles graphiques.

On peut facilement continuer une **numérotation automatique** en faisant glisser le curseur pour agrandir la **plage** (_range_ ; ensemble de cellules) contenant un début de numérotation.

On peut garder certaines lignes et/ou colonnes fixes même quand on déplace la vue de la fenêtre en positionnant des **volets** horizontaux et/ou verticaux.

---

## **Fiche 1 : Les tableurs**
### f1.3. Quelques fonctions courantes

**SUM, MIN, MAX, AVERAGE, MOD, COUNT** : Calcule respectivement la somme, le minimum, le maximum, la moyenne, le modulo, le compte des valeurs numériques d’une plage de cellules.

**RANDBETWEEN**_(début, fin)_ : Calcule un nombre aléatoire compris entre les valeurs _début_ et _fin_.
Attention : A chaque changement du fichier, les valeurs de toutes les cellules liées à cette fonction sont recalculées.

**ROW, COLUMN** : Calcule le numéro de la ligne ou de la colonne de la cellule passée en paramètre.

**IF** _(condition; siVrai; siFaux)_ : renvoie la valeur _siVrai_ si la _condition_ est remplie, et _siFaux_ sinon.

**RANK.EQ** _(cellule; plage)_ : renvoie le rang (numéro d’ordre) du la valeur de la _cellule_ au sein de la liste ordonnée _plage_.

**CONCAT** _(texte1; texte2)_ : la concaténation est la fusion de deux ou plusieurs chaînes de caractères (textes).

**COUNTIF** _(plage; cellule)_ : compte le nombre de cellules qui répondent à un critère donné dans une plage.

**SUMIF** _(plage1; condition; plage2)_ : calcule la somme des valeurs de la _plage2_ correspondant aux valeurs de la _plage1_ répondant à la _condition_.

---

## **Fiche 1 : Les tableurs**
### f1.4. Défauts des tableurs par rapport aux alternatives

**Difficile à relire**, surtout par quelqu’un qui n’a pas créé le document.

Le nom des cellules sont obscures comparé à des **noms de variables ou de champs**.

Les valeurs en entrée, en sortie et les formules sont toutes contenues dans des cellules et il n’est pas toujours facile de les identifier rapidement.
&lt;br&gt;Dans un programme, on peut **séparer clairement les données, les résultats et les procédures de calcul**.

Un code peut facilement produire des documents en **différents formats** (_HTML_, _PDF_, _EXCEL_, …).
C’est moins facile à partir d’un tableur.

Les langages de programmation sont **extensibles** et peuvent étendre fortement leurs fonctionnalités. Les tableurs ont des fonctionnalités limitées à celles prévues par leurs éditeurs.

Les langages de programmation comme _Java_, _Python_, _R_ sont **Open Source** et gratuits, ce qui n’est pas le cas des tableurs (certains sont gratuits mais pas _Open Source_).

Il est très difficile de gérer les versions et de suivre les changements des documents créés avec les tableurs.
C’est très facile avec les fichiers de code (cf. _Github_, la plateforme la plus connue de **gestion de versions**).

---
class:middle

### **Introduction : L’intelligence artificielle et les données**
### **Chapitre 1 : Les probabilités simples**
### **Fiche 1 : Les tableurs**
### Chapitre 2 : Les probabilités conditionnelles
### Fiche 2 : Performances d'un test de dépistage

---

## **Chapitre 2 : Les probabilités conditionnelles**
### 2.1. La notion de probabilité conditionnelle

Mathématiquement, deux événements `\(A\)` et `\(B\)` sont **indépendants** si `$$P(A \cap B) = P(A) . P(B)$$`

Dans ce cas, on peut utiliser les formules des **probabilités simples**. Sinon, on doit utiliser les formules des **probabilités conditionnelles**.

Une **probabilité conditionnelle** est la probabilité d'un événement **sachant** qu'un autre événement a eu lieu.

On note `\(P(A|B)\)` la probabilité conditionnelle que A se réalise sachant que B a eu lieu. Attention, l’ordre est important : `\(P(A|B) \neq P(B|A)\)`.

La **formule** de la probabilité conditionnelle de `\(A\)` sachant `\(B\)` est : `$$P(A|B) = \frac{P(A \cap B)}{P(B)}$$`

On peut donc calculer `\(P(A \cap B)\)` de deux manières : `$$P(A \cap B) = P(A|B).P(B) = P(B|A).P(A)$$`

Cela donne le **théorème de Bayes** : `\(P(A|B) = \frac{P(B|A).P(A)}{P(B)}\)`.

---

## **Chapitre 2 : Les probabilités conditionnelles**
### 2.2. Le théorème de Bayes

.pull-left[
&lt;iframe width="400" height="250" src="https://www.youtube.com/embed/U_85TaXbeIo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
]
.pull-right[
&lt;iframe width="400" height="250" src="https://www.youtube.com/embed/HZGCoVF3YvM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
]

.pull-left[
&lt;iframe width="400" height="250" src="https://www.youtube.com/embed/x-2uVNze56s" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
]
.pull-right[
&lt;iframe width="400" height="250" src="https://www.youtube.com/embed/3FOrWMDL8CY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
]
---

## **Chapitre 2 : Les probabilités conditionnelles**
### 2.3. La représentation en diagramme de Venn

Partition de l'univers (ou de la population) en fonction de deux événements `A` et `B` :

.center[
&lt;img src="partitions.png" style="width: 80%" /&gt;
]

.pull-left[
__La loi des probabilités totales : __

`$$P(B) = P(B \cap A) + P(B \cap \neg A)$$`
]
.pull-right[
&lt;iframe width="400" height="200" src="https://www.youtube.com/embed/lMhk3pzmuYo" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;
]

---

## **Chapitre 2 : Visualisation des probabilités conditionnelles**
### 2.4. La représentation en arbre
.center[
<div id="htmlwidget-62fc5bea878ee382ae62" style="width:720px;height:360px;" class="DiagrammeR html-widget"></div>
<script>HTMLWidgets.pymChild = new pym.Child();HTMLWidgets.addPostRenderHandler(function(){
                                setTimeout(function(){HTMLWidgets.pymChild.sendHeight();},100);
                            });</script>
<script type="application/json" data-for="htmlwidget-62fc5bea878ee382ae62">{"x":{"diagram":"\n  graph LR;\n\n  P(\"<b>&#8486;<\/b>\") -- \"P(A)\" --> A(\"<b>A<\/b>\");\n  P -- \"P(&not;A)\" --> NA(\"<b>&not;A<\/b>\");\n  \n  A -- \"P(B|A)\" --> AB(\"<b>B<\/b>\");\n  A -- \"P(&not;B|A)\" --> ANB(\"<b>&not;B<\/b>\");\n  NA -- \"P(B|&not;A)\" --> NAB(\"<b>B<\/b>\");\n  NA -- \"P(&not;B|&not;A)\" --> NANB(\"<b>&not;B<\/b>\");\n  \n  AB --- IAB(\"<b>P(A&cap;B) = P(A).P(B|A)<\/b>\");\n  ANB --- IANB(\"<b>P(A&cap;&not;B) = P(A).P(&not;B|A)<\/b>\");\n  NAB --- INAB(\"<b>P(&not;A&cap;B) = P(&not;A).P(B|&not;A)<\/b>\");\n  NANB --- INANB(\"<b>P(&not;A&cap;&not;B) = P(&not;A).P(&not;B|&not;A)<\/b>\");\n\n  linkStyle 0 stroke:#fff, fill:#0AD, anything;\n  linkStyle 1 stroke:#fff, fill:#0AD, anything;\n  linkStyle 2 stroke:#fff, fill:#0AD, anything;\n  linkStyle 3 stroke:#fff, fill:#0AD, anything;\n  linkStyle 4 stroke:#fff, fill:#0AD, anything;\n  linkStyle 5 stroke:#fff, fill:#0AD, anything;\n  linkStyle 6 stroke:#0AD, fill:#0AD, anything;\n  linkStyle 7 stroke:#0AD, fill:#0AD, anything;\n  linkStyle 8 stroke:#0AD, fill:#0AD, anything;\n  linkStyle 9 stroke:#0AD, fill:#0AD, anything;\n  \n  style P fill:#fff, stroke-width:2, stroke:#000;\n  style A fill:#ff0, stroke-width:2, stroke:#000;\n  style NA fill:#ff0, stroke-width:2, stroke:#000; \n  style AB fill:#fA0, stroke-width:2, stroke:#000;\n  style ANB fill:#fA0, stroke-width:2, stroke:#000;\n  style NAB fill:#fA0, stroke-width:2, stroke:#000;\n  style NANB fill:#fA0, stroke-width:2, stroke:#000;\n  style IAB stroke:#0AD, stroke-width:2, fill:#0AD;\n  style IANB stroke:#0AD, stroke-width:2, fill:#0AD;\n  style INAB stroke:#0AD, stroke-width:2, fill:#0AD;\n  style INANB stroke:#0AD, stroke-width:2, fill:#0AD;\n  "},"evals":[],"jsHooks":[]}</script>
]

.pull-left[
Verticalement,&lt;br&gt;on __additionne__ les probabilités :
`$$P(A) + P( \neg A) = 1$$`
`$$P(B|A) + P( \neg B| A) = 1$$`
`$$P(B|\neg A) + P( \neg B| \neg A) = 1$$`

]

.pull-right[
Horizontalement,&lt;br&gt;on __multiplie__ les probabilités :
`$$P(A \cap B) = P(A).P(B|A)$$`
]

---

## **Chapitre 2 : Visualisation des probabilités conditionnelles**
### 2.4. La représentation en arbre
.pull-left[
<div id="htmlwidget-59506bd65368617f6796" style="width:576px;height:360px;" class="DiagrammeR html-widget"></div>
<script>HTMLWidgets.pymChild = new pym.Child();HTMLWidgets.addPostRenderHandler(function(){
                                setTimeout(function(){HTMLWidgets.pymChild.sendHeight();},100);
                            });</script>
<script type="application/json" data-for="htmlwidget-59506bd65368617f6796">{"x":{"diagram":"\n  graph LR;\n  \n  P(\"<b>&#8486;<\/b>\") -- \"P(A)\" --> A(\"<b>A<\/b>\");\n  P -- \"P(&not;A)\" --> NA(\"<b>&not;A<\/b>\");\n  \n  A -- \"P(B|A)\" --> AB(\"<b>B<\/b>\");\n  A -- \"P(&not;B|A)\" --> ANB(\"<b>&not;B<\/b>\");\n  NA -- \"P(B|&not;A)\" --> NAB(\"<b>B<\/b>\");\n  NA -- \"P(&not;B|&not;A)\" --> NANB(\"<b>&not;B<\/b>\");\n\n  linkStyle 0 stroke:#fff, fill:#0AD, stroke-width:3, anything;\n  linkStyle 1 stroke:#fff, fill:#0AD, anything;\n  linkStyle 2 stroke:#fff, fill:#0AD, stroke-width:3, anything;\n  linkStyle 3 stroke:#fff, fill:#0AD, anything;\n  linkStyle 4 stroke:#fff, fill:#0AD, anything;\n  linkStyle 5 stroke:#fff, fill:#0AD, anything;\n  \n  style P fill:#fff, stroke-width:2, stroke:#000;\n  style A fill:#ff0, stroke-width:2, stroke:#000;\n  style NA fill:#ff0, stroke-width:2, stroke:#000; \n  style AB fill:#fA0, stroke-width:2, stroke:#000;\n  style ANB fill:#fA0, stroke-width:2, stroke:#000;\n  style NAB fill:#fA0, stroke-width:2, stroke:#000;\n  style NANB fill:#fA0, stroke-width:2, stroke:#000;\n  "},"evals":[],"jsHooks":[]}</script>
]
.pull-right[
<div id="htmlwidget-c780921fa95d88fe411c" style="width:576px;height:360px;" class="DiagrammeR html-widget"></div>
<script>HTMLWidgets.pymChild = new pym.Child();HTMLWidgets.addPostRenderHandler(function(){
                                setTimeout(function(){HTMLWidgets.pymChild.sendHeight();},100);
                            });</script>
<script type="application/json" data-for="htmlwidget-c780921fa95d88fe411c">{"x":{"diagram":"\n  graph RL;\n  \n  P(\"<b>&#8486;<\/b>\") -- \"P(B)\" --> B(\"<b>B<\/b>\");\n  P -- \"P(&not;B)\" --> NB(\"<b>&not;B<\/b>\");\n  \n  B -- \"P(A|B)\" --> BA(\"<b>A<\/b>\");\n  B -- \"P(&not;A|B)\" --> BNA(\"<b>&not;A<\/b>\");\n  NB -- \"P(A|&not;B)\" --> NBA(\"<b>A<\/b>\");\n  NB -- \"P(&not;A|&not;B)\" --> NBNA(\"<b>&not;A<\/b>\");\n\n  BA --- IBA(\"<b>P(A&cap;B)<\/b>\");\n\n  linkStyle 0 stroke:#fff, fill:#0AD, stroke-width:3, anything;\n  linkStyle 1 stroke:#fff, fill:#0AD, anything;\n  linkStyle 2 stroke:#fff, fill:#0AD, stroke-width:3, anything;\n  linkStyle 3 stroke:#fff, fill:#0AD, anything;\n  linkStyle 4 stroke:#fff, fill:#0AD, anything;\n  linkStyle 5 stroke:#fff, fill:#0AD, anything;\n  linkStyle 6 stroke:#0AD, anything;\n  \n  \n  style P fill:#fff, stroke-width:2, stroke:#000;\n  style B fill:#fA0, stroke-width:2, stroke:#000;\n  style NB fill:#fA0, stroke-width:2, stroke:#000; \n  style BA fill:#ff0, stroke-width:2, stroke:#000;\n  style BNA fill:#ff0, stroke-width:2, stroke:#000;\n  style NBA fill:#ff0, stroke-width:2, stroke:#000;\n  style NBNA fill:#ff0, stroke-width:2, stroke:#000;\n  style IBA fill:#0AD, stroke:#0AD;\n  "},"evals":[],"jsHooks":[]}</script>
]

On peut calculer `\(P(A \cap B)\)` de deux manières : `$$P(A \cap B) = P(A|B).P(B) = P(B|A).P(A)$$`

Cela donne le **théorème de Bayes** : `\(P(A|B) = \frac{P(B|A).P(A)}{P(B)}\)`.

---

## **Chapitre 2 : Visualisation des probabilités conditionnelles**
### 2.5. La représentation en tableau à double entrée

<div id="htmlwidget-ffc6f4f052bbd878c42f" style="width:576px;height:360px;" class="DiagrammeR html-widget"></div>
<script>HTMLWidgets.pymChild = new pym.Child();HTMLWidgets.addPostRenderHandler(function(){
                                setTimeout(function(){HTMLWidgets.pymChild.sendHeight();},100);
                            });</script>
<script type="application/json" data-for="htmlwidget-ffc6f4f052bbd878c42f">{"x":{"diagram":"\n  graph LR;\n  \n  P(\"<b>&#8486;<\/b>\") -- \"P(A)\" --> A(\"<b>A<\/b>\");\n  P -- \"P(&not;A)\" --> NA(\"<b>&not;A<\/b>\");\n  \n  A -- \"P(B|A)\" --> AB(\"<b>B<\/b>\");\n  A -- \"P(&not;B|A)\" --> ANB(\"<b>&not;B<\/b>\");\n  NA -- \"P(B|&not;A)\" --> NAB(\"<b>B<\/b>\");\n  NA -- \"P(&not;B|&not;A)\" --> NANB(\"<b>&not;B<\/b>\");\n\n  linkStyle 0 stroke:#fff, fill:#0AD, anything;\n  linkStyle 1 stroke:#fff, fill:#0AD, anything;\n  linkStyle 2 stroke:#fff, fill:#0AD, anything;\n  linkStyle 3 stroke:#fff, fill:#0AD, anything;\n  linkStyle 4 stroke:#fff, fill:#0AD, anything;\n  linkStyle 5 stroke:#fff, fill:#0AD, anything;\n  \n  style P fill:#fff, stroke-width:2, stroke:#000;\n  style A fill:#ff0, stroke-width:2, stroke:#000;\n  style NA fill:#ff0, stroke-width:2, stroke:#000; \n  style AB fill:#fA0, stroke-width:2, stroke:#000;\n  style ANB fill:#fA0, stroke-width:2, stroke:#000;\n  style NAB fill:#fA0, stroke-width:2, stroke:#000;\n  style NANB fill:#fA0, stroke-width:2, stroke:#000;\n  "},"evals":[],"jsHooks":[]}</script>

.pull-left[


__Tableau à double entrée :__
&lt;table class="table" style="font-size: 15px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; \(\Omega\) &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; A &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; \(\neg\)A &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Total &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; B &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\)A\(\cap\)B\()\) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\neg\)A\(\cap\)B\()\) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\)B\()\) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; \(\neg\)B &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\)A\(\cap\neg\)B\()\) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\neg\)A\(\cap\neg\)B\()\) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\neg\)B\()\) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Total &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\)A\()\) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\neg\)A\()\) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; \(card(\Omega\)\()\) &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

]
.pull-right[

`$$P(B|A) = \frac{card(A \cap B)}{card(A)}$$`

]

---

### Fiche 2 : Performances d'un test de dépistage

Nous nous baserons sur cette vidéo de Thierry Ancelle :

&lt;iframe width="560" height="315" src="https://www.youtube.com/embed/t3R96Kpm2mw" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen&gt;&lt;/iframe&gt;

Plus particulièrement,

- de 9:06 à 12:14 pour la f2.1.

- de 28:40 à 37:30 et de 44:30 à 45:50 pour la f2.2.

- de 37:30 à 41:25 pour la f2.3 et f.2.4.

- de 56:06 à 59:48 pour une conclusion et un épilogue.

---

## **Fiche 2 : Performances d'un test de dépistage**
### f2.1. En situation expérimentale

Lors de la mise au point du test, le but de l'expérience est de déterminer les paramètres du test, sa __sensibilité__ et sa __spécificité__, sachant qui est malade ou non.

.pull-left[

<div id="htmlwidget-10475bda47845b2ddb2a" style="width:576px;height:360px;" class="DiagrammeR html-widget"></div>
<script>HTMLWidgets.pymChild = new pym.Child();HTMLWidgets.addPostRenderHandler(function(){
                                setTimeout(function(){HTMLWidgets.pymChild.sendHeight();},100);
                            });</script>
<script type="application/json" data-for="htmlwidget-10475bda47845b2ddb2a">{"x":{"diagram":"\n  graph LR;\n  \n  P(\"<b>N<\/b>\") --> A(\"<b>Malades<\/b>\");\n  P --> NA(\"<b>Sains<\/b>\");\n  \n  A --> AB(\"<b>T+<\/b>\");\n  A --> ANB(\"<b>T-<\/b>\");\n  NA --> NAB(\"<b>T+<\/b>\");\n  NA --> NANB(\"<b>T-<\/b>\");\n  AB --- IAB(\"<b>VP<\/b>\");\n  ANB --- IANB(\"<b>FN<\/b>\");\n  NAB --- INAB(\"<b>FP<\/b>\");\n  NANB --- INANB(\"<b>VN<\/b>\");\n\n  linkStyle 0 stroke:#fff, fill:#0AD, anything;\n  linkStyle 1 stroke:#fff, fill:#0AD, anything;\n  linkStyle 2 stroke:#fff, fill:#0AD, anything;\n  linkStyle 3 stroke:#fff, fill:#0AD, anything;\n  linkStyle 4 stroke:#fff, fill:#0AD, anything;\n  linkStyle 5 stroke:#fff, fill:#0AD, anything;\n  linkStyle 6 stroke:#0AD, fill:#0AD, anything;\n  linkStyle 7 stroke:#0AD, fill:#0AD, anything;\n  linkStyle 8 stroke:#0AD, fill:#0AD, anything;\n  linkStyle 9 stroke:#0AD, fill:#0AD, anything;\n  \n  style P fill:#fff, stroke-width:2, stroke:#000;\n  style A fill:#ff0, stroke-width:2, stroke:#000;\n  style NA fill:#ff0, stroke-width:2, stroke:#000; \n  style AB fill:#fA0, stroke-width:2, stroke:#000;\n  style ANB fill:#fA0, stroke-width:2, stroke:#000;\n  style NAB fill:#fA0, stroke-width:2, stroke:#000;\n  style NANB fill:#fA0, stroke-width:2, stroke:#000;\n  style IAB stroke:#0AD, stroke-width:2, fill:#0AD;\n  style IANB stroke:#0AD, stroke-width:2, fill:#0AD;\n  style INAB stroke:#0AD, stroke-width:2, fill:#0AD;\n  style INANB stroke:#0AD, stroke-width:2, fill:#0AD;\n  "},"evals":[],"jsHooks":[]}</script>

&lt;table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Malades &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Sains &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Total &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T+ &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FP &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP+FP &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T- &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FN &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VN &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FN+VN &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Total &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP+FN &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FP+VN &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; N &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]
.pull-right[

__Vrais Positifs :__ malades pour lesquels le test est positif.

__Faux Négatifs :__ malades pour lesquels le test est négatif.

__Sensibilité :__ capacité du test à identifier les malades.
`$$Se = P(T+|Malade) = \frac{VP}{VP+FN}$$`

__Faux Positifs :__ non-malades pour lesquels le test est positif.

__Vrais Négatifs :__ non-malades pour lesquels le test est négatif.

__Spécificité :__ capacité du test à identifier les non-malades

`$$Sp = P(T-|Sain) = \frac{VN}{FP+VN}$$`
]
---

## **Fiche 2 : Performances d'un test de dépistage**
### f2.1. En situation de terrain

On ne connaît pas à l'avance (a priori) qui est malade ou non : c'est la raison pour laquelle on effectue le test.

Ce que l'on connaît, en principe, c'est la __prévalence de la maladie__ dans la population considérée, c'est-à-dire la probabilité d'avoir la maladie sachant que l'on appartient à une certaine population.

Il y a deux situations d'application distinctes :

- le médecin qui effectue un __diagnostic__ pour un patient avec certains symptômes

- l'épidémiologiste qui effectue un __dépistage__ dans une certaine population.

&lt;table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Objectifs &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Diagnostic &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Dépistage &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Acteurs &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Praticien &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Epidémiologiste &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Cible &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Individu &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Population &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Etat de santé &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Symptomatiques &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Symptomatiques, asymptomatiques et sains &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Données sur le patient &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Nombreuses &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Limitées &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Prévalence de la maladie &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Elevée &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; Faible &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
---

## **Fiche 2 : Performances d'un test de dépistage**
### f2.1. En situation de terrain

.pull-left[
__Si le résultat du test est positif :__

__- diagnostic :__ quelle est la __probabilité__ pour que le sujet soit malade ?

__- dépistage :__ parmi l'ensemble des tests positifs, quelle est la __proportion__ qui correspond à de vrais malades ?

]
.pull-right[
__Si le résultat du test est négatif :__

__- diagnostic :__ quelle est la __probabilité__ pour que le sujet ne soit
pas malade ?

__- dépistage :__ parmi I'ensemble des tests négatifs, quelle est la
__proportion__ qui correspond à des sujets non-malades ?

]

&lt;table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Malades &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Sains &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Total &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T+ &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FP &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP+FP &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T- &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FN &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VN &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FN+VN &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Total &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP+FN &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FP+VN &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; N &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

.pull-left[
Quelle est la __Valeur Prédictive Positive (VPP)__, la probabilité d'être malade sachant que le test est positif ?

`$$\begin{align}
VPP &amp;= P(malade|T+) \\
 &amp;= \frac{VP}{VP+FP}
\end{align}$$`
]
.pull-right[
Quelle est la __Valeur Prédictive Négative (VPN)__, la probabilité d'être sain sachant que le test est négatif ?

`$$\begin{align}
VPN &amp;= P(sain|T-) \\
 &amp;= \frac{VN}{VN+FN}
\end{align}$$`
]

Mais ces dernières formules ne sont pas applicables en situation de terrain, car on ne connaît pas le nombre de malades dans la population considérée.

---

## **Fiche 2 : Performances d'un test de dépistage**
### f2.1. En situation de terrain

Ce que l'on connaît en situation de terrain, ce sont :

- le __nombre d'individu__ dans la population considérée, `\(N\)`.

- la __prévalence__ de la maladie, `\(P\)`.

- les paramètres du test utilisé, sa __sensibilité__ `\(Se\)` et sa __spécificité__ `\(Sp\)`.

On peut dès lors calculer les `\(VP\)`, `\(FP\)`, `\(FN\)`, `\(VN\)`, et finalement les `\(VPP\)` et `\(VPN\)` :

&lt;table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Malades &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Sains &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Total &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T+ &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP = Se.N.P &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FP = (1-Sp).N.(1-P) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP+FP &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T- &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FN = (1-Se).N.P &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VN = Sp.N.(1-P) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FN+VN &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Total &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; N.P &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; N.(1-P) &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; N &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

.pull-left[
`$$\begin{align}
VPP &amp;= P(malade|T+) \\
 &amp;= \frac{VP}{VP+FP} \\
 &amp;= \frac{SeP}{SeP+(1-Sp)(1-P)}
\end{align}$$`
]
.pull-right[
`$$\begin{align}
VPN &amp;= P(sain|T-) \\
 &amp;= \frac{VN}{VN+FN} \\
 &amp;= \frac{Sp(1-P)}{Sp(1-P)+(1-Se)P}
\end{align}$$`
]

On remarque que __les valeurs prédictives dépendent de la prévalence__.

---

## **Fiche 2 : Performances d'un test de dépistage**
### f2.3. Exemple de diagnostic : Mammographie chez une gynécologue

__Données :__

Pour une série de 500 femmes venues consulter pour une "boule" dans le sein, la prévalence du cancer du sein chez cette gynécologue était de 20%.

La mammographie utilisée a une sensibilité de 98% et une spécificité de 90%.

__Question :__ Quelles sont les valeurs prédictives de cette mammographie ?

__Calculs :__

&lt;table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Malades &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Sains &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Total &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Valeurs prédictives &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T+ &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP = 98%.100 = 98 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FP = 400 - 360 = 40 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; 138 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VPP = 98/138 = 71,0% &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T- &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FN = 100 - 98 = 2 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VN = 90%.400 = 360 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; 362 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VPN = 360/362 = 99,4% &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Total &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; 20%.500 = 100 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; 500 - 100 = 400 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; N = 500 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

__Interprétations :__

Si une femme a une mammographie positive, elle a une probabilité de 71% d'avoir un cancer du sein.

Si une femme a une mammographie négative, elle a une probabilité de 99,4% de ne pas avoir un cancer du sein.
---

## **Fiche 2 : Performances d'un test de dépistage**
### f2.4. Exemple de dépistage : dépistage du cancer du sein

__Données :__

Pour une population générale de 5000 femmes âgées de 50 à 69 ans, la prévalence du cancer du sein est de 1%.

La mammographie utilisée a toujours une sensibilité de 98% et une spécificité de 90%.

__Question :__ Quelles sont les valeurs prédictives ?

__Calculs :__

&lt;table class="table" style="font-size: 16px; width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Malades &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Sains &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Total &lt;/th&gt;
   &lt;th style="text-align:left;font-weight: bold;color: black !important;background-color: yellow !important;"&gt; Valeurs prédictives &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T+ &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VP = 98%.50 = 49 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FP = 4950 - 4455 = 495 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; 544 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VPP = 49/544 = 9,0% &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; T- &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; FN = 50 - 49 = 1 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VN = 90%.4950 = 4455 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; 4456 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; VPN = 4455/4456 = 99,98% &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;background-color: orange !important;"&gt; Total &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; 1%.5000 = 50 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; 5000 - 50 = 4950 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt; N = 5000 &lt;/td&gt;
   &lt;td style="text-align:left;font-weight: bold;color: black !important;background-color: white !important;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

__Interprétations :__

Si une femme a une mammographie positive, elle a une probabilité de 9% d'avoir un cancer du sein.

Si une femme a une mammographie négative, elle a une probabilité de 99,98% de ne pas avoir un cancer du sein.

__Conclusion :__ On remarque que __la VPP dépend fortement de la prévalence__ de la maladie dans la population considérée.
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
